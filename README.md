# Status: pre-alpha

# JASTA (Just another simple TODO app)

## Feature overview - First iteration MVP
## Dont use if
- Dont trust people you share the links to your todo
- Want roles like admin and dedicated read/write permissions

### Core features
- Simple. Just 3 stated Open, In progress, Done
- No cookies
- No external dependencies
- No ads (Please offer me a coffee to keep it running and motivate me to improve it TODO: link)
- Open Source (TODO: link client/server github)
- Encrypted keys only stored in clients
- Anonymous with only one exception 24h IP logs for Firewall rules only
- Automatic deletion of lists after 14days not used
- Instant manual deletion

TODO: add gifs
TODO: link demo

# Concept

## Security
- all freetext, like todo and username, is encrypted
- encryption key is generated by the client
- encryption key is only stored in the admin and user link as url fragment never on server. As all freetext data is send and received encrypted (not sended to the backend)
- encryption key validation is done by storing a SHA256 hash of the key on the server
- encryption key hash is only provided by query string (encrypted by HTTPS)

![Concept](doc/diagrams/README/ConceptBasicUIFlow.png)

<details>
<summary><b>PlantUML code concept Wireframes</summary>

```plantuml

@startsalt home_screen_concept
{
<b>Jasta</b>
.
Enter name of the a
new TodoList.
.
"TodoListName  "
.
[ Create ]
}
@endsalt

@startsalt admin_first_enter_concept
{
<b>Todolist Administrator</b>
.
{ "[Todolistname]" | [ Update ] }
.
<b>If you lose the link below no recovery is possible.</b>
Store this link to invite new user or
edit todolist description.
.
{ Admin link | [ Clipboard ] }
(<i>https://jasta.com/admin/[todolistid]/[admintoken]#[key]</i>)
.
--
.
Add new user for yourself or people you want to invite.
.
"Username        "
.
[ Create ]
}
@endsalt


@startsalt admin_with_user_concept
{
<b>Todolist Administrator</b>
.
{ "[Todolistname]" | [ Update ] }
.
<b>If you lose the link below no recovery is possible.</b>
Store this link to invite new user or
edit todolist description.
.
{ Admin link | [ Clipboard ] }
(<i>https://jasta.com/admin/[todolistid]/[admintoken]#[key]</i>)
.
--
.
Userlist
.
{ TreNrod | [ Clipboard ] | [ Delete ] | [ Enter ]}
(<i>https://jasta.com/todolist/[todolistid]/[usertokenid]#[key]</i>)
.
--
.
Add new user for yourself or people you want to invite.
.
"Username        "
.
[ Create ]
}
@endsalt

@startsalt todolist_new
{
<b>[Todolistname]</b>
.
{ "Drink enough water  " | [ Add ] }
}
@endsalt

@startsalt todolist_item_open
{
<b>[Todolistname]</b>
.
{ "                   " | [ Add ] }
---
.
{ <back:red>Drink enough water</back> | [Edit] | [Delete] }
}
@endsalt

@startsalt todolist_item_inprogress
{
<b>[Todolistname]</b>
.
{ "                   " | [ Add ] }
---
.
{ <back:orange>Drink enough water</back> | [Edit] | [Delete] }
}
@endsalt

@startsalt todolist_item_done
{
<b>[Todolistname]</b>
.
{ "                   " | [ Add ] }
---
.
{ <back:green><s>Drink enough water</s></back> | [Edit] | [Delete] }
}
@endsalt
@startuml ConceptBasicUIFlow

title Concept basic ui flow

state Start_Home <<start>>
state Start_Admin <<start>>
state "Home Screen" as State_Home_Screen
state "Admin Screen New" as State_Admin_Screen_New
state "Admin Screen With User" as State_Admin_Screen_With_User
state "New todolist" as State_Todolist_New
state "Todolist with open Todo" as State_Todolist_Item_Open
state "Todolist with in progress Todo" as State_Todolist_Item_InProgress
state "Todolist with done Todo" as State_Todolist_Item_Done

Start_Home --> State_Home_Screen: browse\njasta.com
State_Home_Screen: <img https://github.com/Trenrod/jasta/raw/main/doc/diagrams/README/home_screen_concept.png>

State_Home_Screen -> State_Admin_Screen_New: 1. Type todolist name \n2 Click [Create] button

State_Admin_Screen_New: <img https://github.com/Trenrod/jasta/raw/main/doc/diagrams/README/admin_first_enter_concept.png>

Start_Admin --> State_Admin_Screen_New: browse\nhttps://jasta.com/admin\n/[todolistid]/[admintoken]#[key]
State_Admin_Screen_New --> State_Admin_Screen_With_User: 3. Type user name \n4 Click [Create] button

State_Admin_Screen_With_User: <img https://github.com/Trenrod/jasta/raw/main/doc/diagrams/README/admin_with_user_concept.png>

[*] --> State_Todolist_New: browse\nhttps://jasta.com/todo\n/[todolistid]/[usertoken]#[key]

State_Admin_Screen_With_User -> State_Todolist_New: 5. Click [ Enter ] as user TreNrod
State_Todolist_New: Image here

State_Todolist_New -> State_Todolist_Item_Open: 6. Enter Todo description\n 7. Click [Add] Button
State_Todolist_Item_Open: Image here

State_Todolist_Item_Open --> State_Todolist_Item_InProgress: 8. Click label "Drink more water"
State_Todolist_Item_InProgress: Image here

State_Todolist_Item_InProgress --> State_Todolist_Item_Done: 9. Click label "Drink more water"
State_Todolist_Item_Done: Image here

State_Todolist_Item_Done -> [*]
@enduml

```
</details>

# Components

![Overview JASTA components](doc/diagrams/README/OverviewJASTAComponents.png)

<details>
<summary><b>PlantUML code</summary>

```plantuml

@startuml OverviewJASTAComponents

title Overview JASTA components

!include https://raw.githubusercontent.com/plantuml-stdlib/C4-PlantUML/master/C4_Container.puml

!include <office/Services/web_services>
!include <office/Servers/web_server>
!include <office/Servers/server_generic>
!include <office/sites/website>
!include <office/databases/database>

Person(user, "User", "Person who wants to use JASTA to create and track todos.")
Person(admin, "Admin", "Create and maintain JASTA instances")

Container(deployment, "Deployment Server", "Ansible, Terraform", "Create VM instances and provisioning JASTA",  $sprite="server_generic")

System_Boundary(jasta, JASTA, "Docker-Compose") {
    Container(webclient, "Web Client (SPA)", "React, Typescript", "Provides web apps to the browser. TLS termination. API Gateway and firewall.",  $sprite="website")

    Container(caddy, "Web Server", "Caddy2, Go", "Provides web apps to the browser. TLS termination. API Gateway and firewall.",  $sprite="web_server")

    Container(api, "API", "FastAPI, Python", "Provides interface for web client CRUD todolists and todos.",  $sprite="web_services")

    Container(database, "SQLite Database", "SQLite", "Provides interface for web client CRUD todolists and todos.",  $sprite="database")
}

Rel(user, caddy, "browse to jasta.newawesome.org", "https")
Rel(user, webclient, "Create and manipulate todolists and todos", "https")
Rel_L(caddy, webclient, "delivers to users browser")
Rel(webclient, api, "API calls for CRUD operations on todolists and todos", "https, json")
Rel_R(api, database, "Read/Write", "tcp")
Rel(admin, deployment, "Read/Write", "tcp")
Rel(deployment, jasta, "Read/Write", "tcp")

@enduml

```

</details>



